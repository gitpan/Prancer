.\" Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "Prancer::Database 3"
.TH Prancer::Database 3 "2014-03-26" "perl v5.18.2" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
Prancer::Database
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
This module enables connections to a database. \s-1NOTE:\s0 One should not use this
module to connect to the database. Instead, one should use Prancer.
.PP
It's important to remember that when running your application in a single\-
threaded, single-process application server like, say, Twiggy, all users of
your application will use the same database connection. If you are using
callbacks then this becomes very important. You will want to take care to avoid
crossing transactions or to avoid expecting a database connection or
transaction to be in the same state it was before a callback.
.PP
To use a database connector, add something like this to your configuration
file:
.PP
.Vb 12
\&    database:
\&        connection\-name:
\&            driver: Prancer::Database::Driver::DriverName
\&            options:
\&                username: test
\&                password: test
\&                database: test
\&                hostname: localhost
\&                port: 5432
\&                autocommit: true
\&                charset: utf8
\&                connection_check_threshold: 10
.Ve
.PP
The \*(L"connection-name\*(R" can be anything you want it to be. This will be used when
requesting a connection from Prancer to determine which connection to return.
If only one connection is configured it may be prudent to call it \*(L"default\*(R" as
that is the name that Prancer will look for if no connection name is given.
For example:
.PP
.Vb 2
\&    my $dbh = database;  # returns whatever connection is called "default"
\&    my $dbh = database(\*(Aqfoo\*(Aq);  # returns the connection called "foo"
.Ve
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "database" 4
.IX Item "database"
\&\fB\s-1REQUIRED\s0\fR The name of the database to connect to.
.IP "username" 4
.IX Item "username"
The username to use when connecting. If this option is not set the default is
the user running the application server.
.IP "password" 4
.IX Item "password"
The password to use when connectin. If this option is not set the default is to
connect with no password.
.IP "hostname" 4
.IX Item "hostname"
The host name of the database server. If this option is not set the default is
to connect to localhost.
.IP "port" 4
.IX Item "port"
The port number on which the database server is listening. If this option is
not set the default is to connect on the database's default port.
.IP "autocommit" 4
.IX Item "autocommit"
If set to a true value \*(-- like 1, yes, or true \*(-- this will enable autocommit.
If set to a false value \*(-- like 0, no, or false \*(-- this will disable
autocommit. By default, autocommit is enabled.
.IP "charset" 4
.IX Item "charset"
The character set to connect to the database with. If this is set to \*(L"utf8\*(R"
then the database connection will attempt to make \s-1UTF8\s0 data Just Work if
available.
.IP "connection_check_threshold" 4
.IX Item "connection_check_threshold"
This sets the number of seconds that must elapse between calls to get a
database handle before performing a check to ensure that a database connection
still exists and will reconnect if one does not. This handles cases where the
database handle hasn't been used in a while and the underlying connection has
gone away. If this is not set it will default to 30 seconds.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
.IP "Prancer::Database::Driver::Pg" 4
.IX Item "Prancer::Database::Driver::Pg"
